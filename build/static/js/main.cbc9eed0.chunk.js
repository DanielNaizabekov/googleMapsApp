(this["webpackJsonpgoogle-maps"]=this["webpackJsonpgoogle-maps"]||[]).push([[0],{146:function(e,t,n){e.exports=n(352)},151:function(e,t,n){},152:function(e,t,n){},155:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),c=n.n(r),l=(n(151),n(35)),i=n(86),s=(n(152),n(62)),m=(n(155),n(26)),u=n(27),d="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyD30y0pPfIYSZlD_9a3ts0_QmNqDWeEFt0","&libraries=places"),p=Object(m.a)(Object(m.c)({googleMapURL:d,containerElement:o.a.createElement("div",{className:"container-element"}),mapElement:o.a.createElement("div",{className:"map-element"}),loadingElement:o.a.createElement("div",{className:"loading-element"})}),Object(m.b)({componentWillMount:function(){var e=this,t={markers:[]};this.setState({openingMarkerId:null,onMarkerMounted:function(e,n){return t.markers[n]=e},getMarkerCoords:function(e){return{lat:t.markers[e].getPosition().lat(),lng:t.markers[e].getPosition().lng()}},onOpenBox:function(t){return e.setState({openingMarkerId:t})},onCloseBox:function(){return e.setState({openingMarkerId:null})}})}}),u.withScriptjs,u.withGoogleMap)((function(e){return o.a.createElement(u.GoogleMap,{defaultZoom:8,center:e.center},e.markers.map((function(t,n){return o.a.createElement(u.Marker,{draggable:!0,position:t.coords,onPositionChanged:function(){return e.onMarkerPositionChanged(n,e.getMarkerCoords(n))},onDragEnd:function(){return e.onMarkerDragEnd(n,e.getMarkerCoords(n))},onClick:function(){return e.onOpenBox(t.id)},ref:function(t){return e.onMarkerMounted(t,n)},key:t.id},e.openingMarkerId===t.id&&o.a.createElement(u.InfoWindow,{onCloseClick:e.onCloseBox},o.a.createElement("div",null,t.address)))})),o.a.createElement(u.Polyline,{path:e.markers.map((function(e){return e.coords})),geodesic:!0,options:{strokeColor:"#ff2527",strokeOpacity:.75,strokeWeight:2}}))})),g=(n(351),Object(m.a)(Object(m.b)({componentWillMount:function(){var e;this.setState({initAutocomplete:function(t,n){try{if(e)return;t.persist(),(e=new google.maps.places.Autocomplete(t.target)).addListener("place_changed",(function(){var t,a=e.getPlace();if(!(null===a||void 0===a||null===(t=a.geometry)||void 0===t?void 0:t.location))return alert("Place not found !");var o={address:a.formatted_address,coords:{lat:a.geometry.location.lat(),lng:a.geometry.location.lng()}};n(o)}))}catch(a){console.log("Google maps is loading")}}})}}))((function(e){return o.a.createElement("div",{className:"map-search-wrap"},o.a.createElement("input",{className:"map-search-input",type:"text",placeholder:"Search place",onClick:function(t){return e.initAutocomplete(t,e.onPlaceChanged)}}))})));var f=function(){var e,t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],m=Object(a.useState)({lat:42.882,lng:74.582}),u=Object(i.a)(m,2),d=u[0],f=u[1],k=Object(s.c)((function(){return o.a.createElement("div",{className:"map-page-places-item-handle"})})),v=Object(s.b)((function(e){var t=e.value;return o.a.createElement("li",{onClick:function(){return f(t.coords)},className:"map-page-places-item"},o.a.createElement("span",{className:"map-page-places-item-text"},t.address),o.a.createElement(k,null),o.a.createElement("div",{className:"close-icon",onClick:function(){return function(e){var t=Object(l.a)(r),n=t.findIndex((function(t){return t.id===e.id}));t.splice(n,1),c(t)}(t)}}))})),E=Object(s.a)((function(e){var t=e.items;return o.a.createElement("ul",{className:"map-page-places-list"},t.map((function(e,t){return o.a.createElement(v,{key:e.id,index:t,value:e})})))}));return o.a.createElement("div",{className:"map-page"},o.a.createElement("div",{className:"map-page-left"},o.a.createElement(g,{onPlaceChanged:function(e){var t=e.address,n=e.coords,a={address:t,coords:n,id:Date.now().toString()};f(n),c((function(e){return[].concat(Object(l.a)(e),[a])}))}}),r.length?o.a.createElement(E,{items:r,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,a=Object(l.a)(r),o=a.splice(t,1)[0];a.splice(n,0,o),c(a)},useDragHandle:!0,helperClass:"active"}):o.a.createElement("h3",{className:"map-page-title"},"No places")),o.a.createElement("div",{className:"map-page-right"},o.a.createElement(p,{center:d,markers:r,onMarkerPositionChanged:function(e,t){var n=Object(l.a)(r);n[e].coords=t,c(n)},onMarkerDragEnd:function(t,n){try{!e&&(e=new google.maps.Geocoder),e.geocode({location:n},(function(e,n){if("OK"===n&&e[0]){var a=Object(l.a)(r);a[t].address=e[0].formatted_address,c(a)}else alert("Place not found")}))}catch(a){console.log("Google maps is loading")}}})))};var k=function(){return o.a.createElement("div",{className:"app"},o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.cbc9eed0.chunk.js.map